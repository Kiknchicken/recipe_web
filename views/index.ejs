<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--Fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kameron:wght@400..700&display=swap" rel="stylesheet">

    <!--CSS-->
    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/normalize.css">

    <title>Default Page</title>
</head>
<body>
    <header>
        <div class="topnav_background" id="navbar">
            <div class="topnav">
                <a href="index.ejs" style="border-width: 0px; padding: 0px;";><img src="images/UMAI-ICON-FINAL-02.svg" class="topnav_img"></a>
                <div class="topnav_links">
                    <!--Google Login API-->
                    <script src="https://accounts.google.com/gsi/client" async></script>
                    <script>
                        function handleCredentialResponse(response) {
                            //Decrypting jwt token
                            cred_string = response.credential;
                            let base64Url = cred_string.split('.')[1];
                            let base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
                            let jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {
                                return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
                            }).join(''));
                            let json_obj = JSON.parse(jsonPayload);
                            console.log(JSON.stringify(json_obj));
                        }

                        window.onload = function () {
                            google.accounts.id.initialize({
                                client_id: "630460929969-47is0aidbr8r9jitmhd12v3m6000875b.apps.googleusercontent.com",
                                callback: data => handleCredentialResponse(data)
                            });
                            google.accounts.id.renderButton(
                                document.getElementById("buttonDiv"),
                                { theme: "outline", size: "large" }  // customization attributes
                            );
                            google.accounts.id.prompt(); // also display the One Tap dialog
                        }
                    </script>
                    <div id="buttonDiv"></div>
                    <button>Join Free</button>
                </div>
            </div>
        </div>
        <script src="js/scrollbar.js"></script>
    </header>
</body>
</html>