<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--Fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kameron:wght@400..700&display=swap" rel="stylesheet">

    <!--CSS-->
    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/discover.css">

    <title>Discover Page</title>
</head>
<body>
    <header class="topnav_background" id="navbar">
        <div class="topnav">
            <a href="/home" style="border-width: 0px; padding: 0px;";><img src="images/UMAI-ICON-FINAL-02.svg" class="topnav_img"></a>
            <div class="topnav_links">
                <a>Add Recipe</a>
                <a href="/discover">Discover</a>
                <a href="/userRecipes">Your Recipes</a>
            </div>
        </div>
    </header>

    <div id="filterData" data-filterHeaders="cuisine,vegetarian"></div>

    <div id="discover_container">
        <form id="sidebar_container">
            <h1>Filters</h1>

            <div class="filter_container">
                <h2>- Cuisine Type -</h2>
                <div class="filters">
                    <input type="checkbox" onClick="card('chinese')">
                    <label>Chinese</label>
                </div>
                <div class="filters">
                    <input type="checkbox" onClick="card('japanese')">
                    <label>Japanese</label>
                </div>
            </div>

            <div class="filter_container">
                <h2>- Allergens -</h2>
                <div class="filters">
                    <input type="checkbox" onClick="card('vegetarian')">
                    <label>Vegetarian</label>
                </div>
            </div>

            <div class="filter_container" style="height: 400px;">
                <h2>- Time -</h2>
                <div class="range_slider">
                    <input class="slider" id="slider_min" type="range" value="1" min="1" max="100" onInput="slider(this)">
                    <input class="slider" id="slider_max" type="range" value="100" min="1" max="100" onInput="slider(this)">
                    <span class="range_min light left" id="range_min">1 min</span>
                    <span class="range_max light right" id="range_max">100 min</span>
                </div> 
            </div>
        </form>

        <div id="content_container">
            <div id="header">
                <h1>Welcome <%= name %></h1>
            </div>

            <div id="card_container">
                <% for (let i = 0; i < num_cards; i++) {%>
                    <div id="card"<%= data[i][0] %> class="card" data-tag=<%= data[i][9] %> data-time= <%= data[i][4] %>>
                        <img src=<%= data[i][2] %> class="card_img">
                        <div class= "card_container_info">
                            <h2 class="card_title"><%= data[i][1] %></h2>
                            <ul class="card_info">
                                <li>Servings: <%= data[i][5] %></li>
                                <li>Time: <%= data[i][4] %></li>
                            </ul>
                            <form action="/recipe" method="POST">
                                <input class="card_id" type="id" name="id" value=<%= data[i][0] %>>
                                <input class="card_link" type="submit" value="View Recipe">
                            </form>
                            <p><%= data[i][6] %></p>
                        </div>
                    </div>
                <% } %>
            </div>
        </div>        
    </div>
    <script src="js/sidebar.js"></script>
</body>
</html>